<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QUIZ FOR CSS ASPIRANTS 12 March 2025</title>
  <style>
    /* Reset and disable text selection */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      overflow-x: hidden;
    }
    header, footer {
      background: #333;
      color: #fff;
      text-align: center;
      padding: 20px 10px;
    }
    header img {
      max-width: 100px;
      display: block;
      margin: 0 auto 10px;
    }
    header h1 {
      font-size: 24px;
      margin-bottom: 5px;
    }
    header h2 {
      font-size: 16px;
      font-weight: normal;
    }
    #name-entry, #quiz-section, #result-section {
      max-width: 800px;
      margin: 20px auto;
      background: #fff;
      border: 1px solid #ddd;
      padding: 20px;
      border-radius: 5px;
    }
    #name-entry input[type="text"] {
      width: 80%;
      padding: 10px;
      margin-right: 10px;
      font-size: 16px;
    }
    #name-entry button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    .question {
      margin-bottom: 20px;
      border-bottom: 1px dashed #ccc;
      padding-bottom: 10px;
    }
    .question h3 {
      margin-bottom: 10px;
      font-size: 18px;
    }
    .options label {
      display: block;
      margin-bottom: 5px;
      cursor: pointer;
    }
    #timer {
      font-size: 18px;
      font-weight: bold;
      text-align: right;
      margin-bottom: 10px;
    }
    #submit-btn {
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
      background: #333;
      color: #fff;
      border: none;
      border-radius: 3px;
    }
    #result-section {
      display: none;
    }
    footer p {
      margin: 5px 0;
    }
    /* Disable right-click */
    body {
      -webkit-touch-callout: none;
    }
  </style>
</head>
<body oncontextmenu="return false" oncopy="return false" oncut="return false" onpaste="return false">
  <!-- Header with Image, Title, and Name -->
  <header>
    <img src="https://media-hosting.imagekit.io//0b9a4af30efb4482/WhatsApp%20Image%202025-02-28%20at%203.15.19%20AM.jpeg?Expires=1835349432&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=jwJPYv24ynvpiPUADnh2kUGPUbG6OBggLpvXOj6~ZZAgts7lamWPTIZKmuIaQ5WaRUAG568acIjSbBE1XrKsIPvCHTXKNA-XF6ppaM~tacD0TMTVoTFd7-EsYFsesMaR~5AK7n5qr33hIwKVawluJ1rkdqmuQokM~T~W~O~6Yo-qXgYGio2IvfBsu1u~wEi1Cnk-5pAOavMUb9IfeY7E4FNwGBgiLCiHugKJD9sAY8As7S0szpehWI8WIQzMzNUFN4wvtPAamSART1m5nlUT4uLcvwdr-C1pk4kJN6I0itWzZEbZN04ANZexY3dpBhUDO0~UvQBCps64LPKIQBRYtA__" alt="Quiz Image">
    <h1>QUIZ FOR CSS ASPIRANTS 12 March 2025</h1>
    <h2>Designed by SYED ASGHAR ALI SHAH</h2>
  </header>

  <!-- Name Entry Section -->
  <section id="name-entry">
    <h2>Enter Your Name to Start the Quiz</h2>
    <input type="text" id="studentName" placeholder="Your Name">
    <button id="start-btn">Start Quiz</button>
  </section>

  <!-- Quiz Section (hidden until name is entered) -->
  <section id="quiz-section" style="display:none;">
    <div id="timer">Time Left: 10:00</div>
    <form id="quiz-form">
      <!-- Questions will be injected here by JavaScript -->
    </form>
    <button id="submit-btn">Submit Quiz</button>
  </section>

  <!-- Result Section -->
  <section id="result-section">
    <h2>Quiz Results</h2>
    <p id="result-details"></p>
  </section>

  <!-- Hidden Form for Formspree Submission -->
  <form id="hidden-form" action="https://formspree.io/f/xwpvddea" method="POST" style="display:none;">
    <input type="hidden" name="name" id="form-name">
    <input type="hidden" name="attempted" id="form-attempted">
    <input type="hidden" name="score" id="form-score">
    <input type="hidden" name="timeTaken" id="form-timeTaken">
  </form>

  <footer>
    <p>Contact: 03265762698</p>
    <p>Call us now to register for more quizzes and updates.</p>
  </footer>

  <script>
    // Disable certain key events
    document.addEventListener("keydown", function(e) {
      // disable F12, Ctrl+Shift+I/J, Ctrl+U
      if(e.keyCode === 123 || 
        (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74)) ||
        (e.ctrlKey && e.keyCode === 85)) {
        e.preventDefault();
      }
    });

    // Utility function to shuffle an array
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Questions Array: 50 Questions (20 Editorial 1, 20 Editorial 2, 10 Editorial 3)
    // Each question object contains: question, options (array of {text, isCorrect})
    const questions = [
      // === Editorial 1 Questions (20) ===
      {
        question: "According to the editorial, what was the effect of six consecutive cuts of 1,000bps in the key policy interest rate?",
        options: [
          { text: "They paused monetary easing", isCorrect: true },
          { text: "They accelerated monetary easing", isCorrect: false },
          { text: "They increased the policy rate", isCorrect: false },
          { text: "They stabilized the economic growth", isCorrect: false }
        ]
      },
      {
        question: "In the context of the editorial, the phrase 'inherent volatility' primarily refers to the unpredictable fluctuations in which prices?",
        options: [
          { text: "Food and energy prices", isCorrect: true },
          { text: "Housing and education costs", isCorrect: false },
          { text: "Automobile and electronics prices", isCorrect: false },
          { text: "Healthcare and technology prices", isCorrect: false }
        ]
      },
      {
        question: "Identify the correct preposition in the sentence: 'The current account is being used ____ make foreign debt payments.'",
        options: [
          { text: "to", isCorrect: true },
          { text: "for", isCorrect: false },
          { text: "by", isCorrect: false },
          { text: "in", isCorrect: false }
        ]
      },
      {
        question: "Choose the synonym for 'fragile' as used in the context of macro stability.",
        options: [
          { text: "Delicate", isCorrect: true },
          { text: "Robust", isCorrect: false },
          { text: "Resilient", isCorrect: false },
          { text: "Sturdy", isCorrect: false }
        ]
      },
      {
        question: "Which of the following best represents the meaning of 'downward trend' in the context of inflation?",
        options: [
          { text: "A decrease", isCorrect: true },
          { text: "An increase", isCorrect: false },
          { text: "Stability", isCorrect: false },
          { text: "Fluctuation", isCorrect: false }
        ]
      },
      {
        question: "Select the grammatically correct sentence:",
        options: [
          { text: "Rising imports have increased the current account deficit.", isCorrect: true },
          { text: "The current account deficit is increased due to rising imports.", isCorrect: false },
          { text: "The rising imports current account deficit increased.", isCorrect: false },
          { text: "Increased current account deficit by rising imports.", isCorrect: false }
        ]
      },
      {
        question: "Which term from the editorial indicates a slight reduction in international reserves?",
        options: [
          { text: "dropped slightly", isCorrect: true },
          { text: "increased marginally", isCorrect: false },
          { text: "soared", isCorrect: false },
          { text: "remained constant", isCorrect: false }
        ]
      },
      {
        question: "Fill in the blank: 'The exchange rate remains ______ despite external pressures.'",
        options: [
          { text: "stable", isCorrect: true },
          { text: "volatile", isCorrect: false },
          { text: "erratic", isCorrect: false },
          { text: "unpredictable", isCorrect: false }
        ]
      },
      {
        question: "What does 'bps' in the context of the editorial stand for?",
        options: [
          { text: "Basis Points", isCorrect: true },
          { text: "Billion Pounds", isCorrect: false },
          { text: "Business Points", isCorrect: false },
          { text: "Basic Price", isCorrect: false }
        ]
      },
      {
        question: "Which preposition correctly completes the sentence: 'The surplus was accumulated ____ rising remittances'?",
        options: [
          { text: "through", isCorrect: true },
          { text: "by", isCorrect: false },
          { text: "with", isCorrect: false },
          { text: "from", isCorrect: false }
        ]
      },
      {
        question: "What grammatical function does the word 'though' serve in the sentence: 'Though CPI inflation is down to just 1.4pc...'",
        options: [
          { text: "Conjunction", isCorrect: true },
          { text: "Preposition", isCorrect: false },
          { text: "Adverb", isCorrect: false },
          { text: "Interjection", isCorrect: false }
        ]
      },
      {
        question: "Select the correct punctuation: 'Key macro indicators have improved ____ but Pakistan is still not out of the woods.'",
        options: [
          { text: ";", isCorrect: true },
          { text: ",", isCorrect: false },
          { text: ".", isCorrect: false },
          { text: ":", isCorrect: false }
        ]
      },
      {
        question: "Which of these sentences uses the passive voice correctly?",
        options: [
          { text: "The inflation rate was decreased by the policy measures.", isCorrect: true },
          { text: "The monetary policy decreased the inflation rate.", isCorrect: false },
          { text: "The inflation rate has been decreased by the monetary policy.", isCorrect: false },
          { text: "The policy measures decrease the inflation rate.", isCorrect: false }
        ]
      },
      {
        question: "Identify the error in the following sentence: 'The fiscal and external sectors remain under stress, impeding the consolidation of the nascent recovery.'",
        options: [
          { text: "No error", isCorrect: true },
          { text: "Missing comma", isCorrect: false },
          { text: "Subject-verb disagreement", isCorrect: false },
          { text: "Incorrect tense", isCorrect: false }
        ]
      },
      {
        question: "Fill in the blank with the correct preposition: 'Rising imports due ____ an uptick in economic activity.'",
        options: [
          { text: "to", isCorrect: true },
          { text: "at", isCorrect: false },
          { text: "in", isCorrect: false },
          { text: "on", isCorrect: false }
        ]
      },
      {
        question: "Which word is an antonym of 'easing' as used in the monetary policy context?",
        options: [
          { text: "Tightening", isCorrect: true },
          { text: "Relaxing", isCorrect: false },
          { text: "Loosening", isCorrect: false },
          { text: "Stabilizing", isCorrect: false }
        ]
      },
      {
        question: "What is the main purpose of the State Bank's decision as described in the editorial?",
        options: [
          { text: "To stabilize inflation", isCorrect: true },
          { text: "To continue monetary easing", isCorrect: false },
          { text: "To expand the fiscal deficit", isCorrect: false },
          { text: "To boost private sector credit", isCorrect: false }
        ]
      },
      {
        question: "Choose the option with the correct subject-verb agreement: 'The series of cuts ____ a significant impact on the economy.'",
        options: [
          { text: "has", isCorrect: true },
          { text: "have", isCorrect: false },
          { text: "had", isCorrect: false },
          { text: "having", isCorrect: false }
        ]
      },
      {
        question: "Select the grammatically correct usage of a prepositional phrase:",
        options: [
          { text: "Owing to the economic challenges", isCorrect: true },
          { text: "Due of the economic challenges", isCorrect: false },
          { text: "Because of the economic challenges", isCorrect: false },
          { text: "On account the economic challenges", isCorrect: false }
        ]
      },
      {
        question: "Which sentence best uses parallel structure?",
        options: [
          { text: "The policy aims to reduce inflation, control imports, and stabilize exchange rates.", isCorrect: true },
          { text: "The policy aims to reduce inflation, controlling imports, and stabilizing exchange rates.", isCorrect: false },
          { text: "The policy aims at reducing inflation, to control imports, and stabilization of exchange rates.", isCorrect: false },
          { text: "The policy aims at reducing inflation, controlling imports, and stabilize exchange rates.", isCorrect: false }
        ]
      },
      // === Editorial 2 Questions (20) ===
      {
        question: "In the context of the editorial, which city did anti-Assad militants march into?",
        options: [
          { text: "Damascus", isCorrect: true },
          { text: "Aleppo", isCorrect: false },
          { text: "Homs", isCorrect: false },
          { text: "Latakia", isCorrect: false }
        ]
      },
      {
        question: "What role did Ahmad al-Sharaa assume as mentioned in the editorial?",
        options: [
          { text: "Rebel leader and interim President", isCorrect: true },
          { text: "Minister of Defense", isCorrect: false },
          { text: "Chief of Staff", isCorrect: false },
          { text: "Foreign Minister", isCorrect: false }
        ]
      },
      {
        question: "Fill in the blank: 'There would be no place for such bloodshed ____ the new Syria.'",
        options: [
          { text: "in", isCorrect: true },
          { text: "on", isCorrect: false },
          { text: "at", isCorrect: false },
          { text: "for", isCorrect: false }
        ]
      },
      {
        question: "Which group was primarily targeted in the rampage described in the editorial?",
        options: [
          { text: "Alawi community", isCorrect: true },
          { text: "Sunni civilians", isCorrect: false },
          { text: "Kurdish minority", isCorrect: false },
          { text: "Christian community", isCorrect: false }
        ]
      },
      {
        question: "Identify the preposition used correctly in the sentence: 'Eyewitnesses say children were slaughtered ___ pro-government militants.'",
        options: [
          { text: "by", isCorrect: true },
          { text: "with", isCorrect: false },
          { text: "from", isCorrect: false },
          { text: "of", isCorrect: false }
        ]
      },
      {
        question: "Select the sentence that maintains proper subject-verb agreement:",
        options: [
          { text: "Many foreign militants have been given positions in the administration.", isCorrect: true },
          { text: "Many foreign militants has been given positions in the administration.", isCorrect: false },
          { text: "Many foreign militants are given positions in the administration.", isCorrect: false },
          { text: "Many foreign militants is given positions in the administration.", isCorrect: false }
        ]
      },
      {
        question: "What does the term 'rampage' most closely mean as used in the editorial?",
        options: [
          { text: "Uncontrolled violence", isCorrect: true },
          { text: "Peaceful demonstration", isCorrect: false },
          { text: "Organized protest", isCorrect: false },
          { text: "Diplomatic negotiation", isCorrect: false }
        ]
      },
      {
        question: "Identify the antonym for 'extremist' as used in the context of the editorial.",
        options: [
          { text: "Moderate", isCorrect: true },
          { text: "Radical", isCorrect: false },
          { text: "Fanatical", isCorrect: false },
          { text: "Extreme", isCorrect: false }
        ]
      },
      {
        question: "Fill in the blank: 'The interim Syrian leader has promised ______ for the recent massacres.'",
        options: [
          { text: "accountability", isCorrect: true },
          { text: "immunity", isCorrect: false },
          { text: "exoneration", isCorrect: false },
          { text: "relief", isCorrect: false }
        ]
      },
      {
        question: "Which sentence correctly uses the colon for emphasis?",
        options: [
          { text: "Syria has one clear objective: disarm foreign forces.", isCorrect: true },
          { text: "Syria has one clear objective, disarm foreign forces.", isCorrect: false },
          { text: "Syria has one clear objective - disarm foreign forces.", isCorrect: false },
          { text: "Syria: has one clear objective disarm foreign forces.", isCorrect: false }
        ]
      },
      {
        question: "What is the meaning of 'interventionist' in the context of the editorial?",
        options: [
          { text: "Involved in external affairs", isCorrect: true },
          { text: "Non-interfering", isCorrect: false },
          { text: "Neutral", isCorrect: false },
          { text: "Passive", isCorrect: false }
        ]
      },
      {
        question: "Identify the error in the following sentence: 'The transition from religious militancy to democratic statecraft is proving to be difficult one.'",
        options: [
          { text: "Missing article", isCorrect: true },
          { text: "Incorrect tense", isCorrect: false },
          { text: "Subject-verb disagreement", isCorrect: false },
          { text: "No error", isCorrect: false }
        ]
      },
      {
        question: "Select the grammatically correct sentence:",
        options: [
          { text: "Foreign forces must stop their intervention in Syria.", isCorrect: true },
          { text: "Foreign forces must stopped their intervention in Syria.", isCorrect: false },
          { text: "Foreign forces stopping their intervention in Syria.", isCorrect: false },
          { text: "Foreign forces must be stopped their intervention in Syria.", isCorrect: false }
        ]
      },
      {
        question: "Choose the correct synonym for 'bloodshed' as used in the context of the editorial.",
        options: [
          { text: "Massacre", isCorrect: true },
          { text: "Celebration", isCorrect: false },
          { text: "Assembly", isCorrect: false },
          { text: "Discussion", isCorrect: false }
        ]
      },
      {
        question: "Which sentence uses a correct prepositional phrase?",
        options: [
          { text: "The rebel leader promised to end bloodshed on the new Syria.", isCorrect: true },
          { text: "The rebel leader promised to end bloodshed in new Syria.", isCorrect: false },
          { text: "The rebel leader promised to end bloodshed of the new Syria.", isCorrect: false },
          { text: "The rebel leader promised to end bloodshed at the new Syria.", isCorrect: false }
        ]
      },
      {
        question: "Fill in the blank with the appropriate preposition: 'Clashes broke out ____ armed loyalists and government forces.'",
        options: [
          { text: "between", isCorrect: true },
          { text: "among", isCorrect: false },
          { text: "with", isCorrect: false },
          { text: "by", isCorrect: false }
        ]
      },
      {
        question: "Which of the following is an antonym for 'triumphant' as used in the context of the militants' march?",
        options: [
          { text: "Defeated", isCorrect: true },
          { text: "Victorious", isCorrect: false },
          { text: "Successful", isCorrect: false },
          { text: "Triumphal", isCorrect: false }
        ]
      },
      {
        question: "Identify the function of the phrase 'last December' in the sentence: 'There were valid fears of sectarian and religious bloodshed when anti-Assad militants triumphantly marched into Damascus last December.'",
        options: [
          { text: "Adverbial phrase", isCorrect: true },
          { text: "Noun phrase", isCorrect: false },
          { text: "Verb phrase", isCorrect: false },
          { text: "Prepositional phrase", isCorrect: false }
        ]
      },
      {
        question: "Choose the sentence with correct punctuation:",
        options: [
          { text: "Eyewitnesses say children were slaughtered by militants.", isCorrect: true },
          { text: "Eyewitnesses say, children were slaughtered by militants.", isCorrect: false },
          { text: "Eyewitnesses, say children were slaughtered by militants.", isCorrect: false },
          { text: "Eyewitnesses say children were slaughtered, by militants.", isCorrect: false }
        ]
      },
      {
        question: "Which option correctly uses a semicolon?",
        options: [
          { text: "Syria is in turmoil; however, stability is hard to achieve.", isCorrect: true },
          { text: "Syria is in turmoil, however, stability is hard to achieve.", isCorrect: false },
          { text: "Syria is in turmoil however; stability is hard to achieve.", isCorrect: false },
          { text: "Syria is in turmoil however, stability is hard to achieve.", isCorrect: false }
        ]
      },
      // === Editorial 3 Questions (10) ===
      {
        question: "In the context of the editorial, what does the term 'vani' refer to?",
        options: [
          { text: "A form of compensation", isCorrect: true },
          { text: "A traditional celebration", isCorrect: false },
          { text: "A monetary fine", isCorrect: false },
          { text: "A legal contract", isCorrect: false }
        ]
      },
      {
        question: "What extreme action did Adil take in response to the injustice described?",
        options: [
          { text: "He consumed poison", isCorrect: true },
          { text: "He filed a complaint", isCorrect: false },
          { text: "He sought legal help", isCorrect: false },
          { text: "He organized a protest", isCorrect: false }
        ]
      },
      {
        question: "Which preposition correctly fills the blank: 'A father has to end his life ____ save his daughter’s.'",
        options: [
          { text: "to", isCorrect: true },
          { text: "in order to", isCorrect: false },
          { text: "for", isCorrect: false },
          { text: "with", isCorrect: false }
        ]
      },
      {
        question: "Select the correct sentence regarding the practice of 'vani':",
        options: [
          { text: "Vani is a barbaric custom.", isCorrect: true },
          { text: "Vani are barbaric customs.", isCorrect: false },
          { text: "Vani is a barbaric customs.", isCorrect: false },
          { text: "Vani are a barbaric custom.", isCorrect: false }
        ]
      },
      {
        question: "What is the grammatical role of the word 'only' in the sentence: 'The fact that police action came only after a man’s suicide speaks volumes.'",
        options: [
          { text: "Adverb", isCorrect: true },
          { text: "Noun", isCorrect: false },
          { text: "Adjective", isCorrect: false },
          { text: "Conjunction", isCorrect: false }
        ]
      },
      {
        question: "Fill in the blank: 'Child marriage laws criminalise underage marriage, and the Prevention of Anti-Women Practices Act, 2011, makes it ______ to give women as compensation.'",
        options: [
          { text: "illegal", isCorrect: true },
          { text: "legal", isCorrect: false },
          { text: "acceptable", isCorrect: false },
          { text: "customary", isCorrect: false }
        ]
      },
      {
        question: "Identify the antonym of 'punished' in the context of the editorial.",
        options: [
          { text: "Rewarded", isCorrect: true },
          { text: "Condemned", isCorrect: false },
          { text: "Sentenced", isCorrect: false },
          { text: "Penalized", isCorrect: false }
        ]
      },
      {
        question: "Which sentence is grammatically correct?",
        options: [
          { text: "Educational campaigns are essential but meaningless without enforcement.", isCorrect: true },
          { text: "Educational campaigns are essential, but are meaningless without enforcement.", isCorrect: false },
          { text: "Educational campaigns are essential, but it is meaningless without enforcement.", isCorrect: false },
          { text: "Educational campaigns are essential, but meaningless without enforcement.", isCorrect: false }
        ]
      },
      {
        question: "Which word best replaces 'inadequate' in the sentence: 'The state’s response was inadequate, failing to protect its citizens'?",
        options: [
          { text: "Insufficient", isCorrect: true },
          { text: "Excessive", isCorrect: false },
          { text: "Overwhelming", isCorrect: false },
          { text: "Dismal", isCorrect: false }
        ]
      },
      {
        question: "Fill in the blank: 'The state must dismantle all panchayats ______ practising such rulings.'",
        options: [
          { text: "practising", isCorrect: true },
          { text: "practicing", isCorrect: false },
          { text: "practised", isCorrect: false },
          { text: "practicingly", isCorrect: false }
        ]
      }
    ];

    // Shuffle options for every question so the sequence is different each time.
    questions.forEach(q => {
      q.options = shuffle(q.options);
    });

    const startBtn = document.getElementById('start-btn');
    const nameEntrySection = document.getElementById('name-entry');
    const quizSection = document.getElementById('quiz-section');
    const quizForm = document.getElementById('quiz-form');
    const submitBtn = document.getElementById('submit-btn');
    const timerDisplay = document.getElementById('timer');
    const resultSection = document.getElementById('result-section');
    const resultDetails = document.getElementById('result-details');

    let timerInterval;
    let timeLeft = 600; // 10 minutes in seconds
    let quizStartTime;

    // Function to start the timer and update every second
    function startTimer() {
      quizStartTime = new Date();
      timerInterval = setInterval(() => {
        timeLeft--;
        let minutes = Math.floor(timeLeft / 60);
        let seconds = timeLeft % 60;
        timerDisplay.textContent = `Time Left: ${minutes < 10 ? '0'+minutes : minutes}:${seconds < 10 ? '0'+seconds : seconds}`;
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          submitQuiz(); // Auto-submit when time runs out
        }
      }, 1000);
    }

    // Function to render all questions into the quiz form
    function renderQuestions() {
      quizForm.innerHTML = "";
      questions.forEach((q, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = "question";
        const qHeader = document.createElement('h3');
        qHeader.textContent = `Q${index + 1}. ${q.question}`;
        questionDiv.appendChild(qHeader);

        const optionsDiv = document.createElement('div');
        optionsDiv.className = "options";
        q.options.forEach((option, optIndex) => {
          const optionLabel = document.createElement('label');
          const radioInput = document.createElement('input');
          radioInput.type = "radio";
          radioInput.name = `question-${index}`;
          radioInput.value = option.text;
          // Save a data attribute if this is the correct answer
          if(option.isCorrect) {
            radioInput.setAttribute('data-correct', 'true');
          }
          optionLabel.appendChild(radioInput);
          optionLabel.append(" " + option.text);
          optionsDiv.appendChild(optionLabel);
        });
        questionDiv.appendChild(optionsDiv);
        quizForm.appendChild(questionDiv);
      });
    }

    // Start button click handler
    startBtn.addEventListener('click', () => {
      const studentName = document.getElementById('studentName').value.trim();
      if(studentName === "") {
        alert("Please enter your name to start the quiz.");
        return;
      }
      // Hide name entry and show quiz section
      nameEntrySection.style.display = "none";
      quizSection.style.display = "block";
      renderQuestions();
      startTimer();
    });

    // Function to calculate and display results, then submit the hidden form via Formspree
    function submitQuiz() {
      clearInterval(timerInterval);
      const studentName = document.getElementById('studentName').value.trim();
      let totalAttempted = 0;
      let score = 0;
      const totalQuestions = questions.length;

      // Check each question for a selected answer
      for(let i = 0; i < totalQuestions; i++){
        const radios = document.getElementsByName(`question-${i}`);
        let answered = false;
        for(let radio of radios) {
          if(radio.checked) {
            answered = true;
            totalAttempted++;
            if(radio.getAttribute('data-correct') === 'true') {
              score++;
            }
            break;
          }
        }
      }
      const quizEndTime = new Date();
      const timeTakenSec = Math.floor((quizEndTime - quizStartTime) / 1000);
      const minutesTaken = Math.floor(timeTakenSec / 60);
      const secondsTaken = timeTakenSec % 60;

      // Display results
      resultDetails.innerHTML = `
        <strong>Name:</strong> ${studentName}<br>
        <strong>Questions Attempted:</strong> ${totalAttempted} / ${totalQuestions}<br>
        <strong>Score:</strong> ${score} / ${totalQuestions}<br>
        <strong>Time Taken:</strong> ${minutesTaken < 10 ? '0'+minutesTaken : minutesTaken}:${secondsTaken < 10 ? '0'+secondsTaken : secondsTaken}
      `;
      resultSection.style.display = "block";
      quizSection.style.display = "none";

      // Fill and auto-submit the hidden Formspree form
      document.getElementById('form-name').value = studentName;
      document.getElementById('form-attempted').value = totalAttempted;
      document.getElementById('form-score').value = score;
      document.getElementById('form-timeTaken').value = `${minutesTaken}:${secondsTaken < 10 ? '0'+secondsTaken : secondsTaken}`;
      document.getElementById('hidden-form').submit();
    }

    // Submit button click handler
    submitBtn.addEventListener('click', submitQuiz);
  </script>
</body>
</html>
